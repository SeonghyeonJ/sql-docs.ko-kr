---
title: 'O2SS0021: ROWNUM이 변환 되지 않은 문 (오류)'
description: Oracle 용 SSMA (SQL Server Migration Assistant)가 Oracle ROWNUM 의사 열을 포함 하는 문을 변환할 수 없는 이유에 대해 설명 합니다.
authors: nahk-ivanov
ms.service: ssma
ms.devlang: sql
ms.topic: article
ms.date: 1/22/2020
ms.author: alexiva
ms.openlocfilehash: 5530f7ef840c02bb322e8a2546094cd886f77a0e
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/08/2020
ms.locfileid: "76762797"
---
# <a name="o2ss0021-statement-with-rownum-not-converted-error"></a>O2SS0021: ROWNUM이 변환 되지 않은 문 (오류)

이 문서에서는 oracle 용 SSMA (SQL Server Migration Assistant)가 Oracle `ROWNUM` 의사 열을 포함 하는 문을 변환할 수 없는 이유에 대해 설명 합니다.

## <a name="background"></a>배경

Oracle `ROWNUM` 은 테이블에서 행이 선택 된 순서를 나타내는 숫자를 반환 합니다. 선택한 첫 번째 행에는 `ROWNUM` 의 `1`가 있습니다. 두 번째 행에는 `ROWNUM` 의 `2`가 있습니다.

의사 열를 변환 `ROWNUM` 하는 경우 ssma는 다음과 같은 두 가지 형태의 에뮬레이션을 제공 합니다.

 1. `SELECT` 문의 `TOP` 키워드를 사용 하는 경우이 의사 열는 결과 집합의 크기를 제한 하는 데만 사용 됩니다.
 2. 행 번호가 `ROW_NUMBER()` `SELECT` 목록에 표시 되는 경우 함수를 사용 합니다.

`ROWNUM` 의사 열를 SQL Server 변환할 수 없다고 결정 하는 두 가지 경우에는 다음과 같은 `O2SS0021` 오류 메시지가 생성 됩니다.

**시나리오 1:** `ROWNUM` 은 복합 `WHERE` 절의 일부로 포함 됩니다.

**시나리오 2:** `ROWNUM` 는와 같은 `WHERE` `WHERE ROWNUM > {positive integer}`절에서 사용 됩니다.

## <a name="possible-remedies"></a>가능한 해결 방법

### <a name="scenario-1-rownum-is-included-as-part-of-a-complex-where-clause"></a>시나리오 1: `ROWNUM` 복합 `WHERE` 절의 일부로 포함

다음과 같은 예제를 참조하세요.

```sql
DELETE
    FROM employees
WHERE
    ROWNUM - 1 <= 11 + 1
    AND employeeid > 10;
```

솔루션은에 대 한 `ROWNUM` 식을 단순화 하는 것입니다 `ROWNUM <= 11`. 최종 결과는 `TOP` 절을 사용 하도록 변환 됩니다. 다음은 단순화 된 쿼리입니다.

```sql
DELETE
    FROM employees
WHERE
    ROWNUM <= 11
    AND employeeid > 10;
```

이러한 쿼리는 SSMA에서 다음과 같이 변환 됩니다.

```sql
DELETE TOP(11)
    [dbo].[EMPLOYEES]
WHERE
    [EMPLOYEES].[EMPLOYEEID] > 10
```

다음 예제에서 SSMA는 `ROWNUM` `IN` 절을 사용 하 여 구문 분석 하는 방법을 모릅니다.

```sql
DELETE
    FROM employees
WHERE
    ROWNUM in (1, 2, 3, 4);
```

이 문자를 변환 하는 대신 기본 키 또는 고유 식별자를 `WHERE` 사용 하는 절을 사용 하는 것이 좋습니다 (특히 `ORDER BY` 절이 없는 경우). 예를 들어 다음과 `employeeid` `ROWNUM` 같이 기본 키 열을 사용 합니다.

```sql
DELETE
    FROM employees
WHERE
    employeeid IN (1, 2, 3, 4);
```

### <a name="scenario-2-rownum-is-used-in-a-where-clause-like-this-where-rownum--positive-integer"></a>시나리오 2: `ROWNUM` 는 다음과 같은 `WHERE` 절에서 사용 됩니다.`WHERE ROWNUM > {positive integer}`

다음과 같은 예제를 참조하세요.

```sql
SELECT
    employeeid
FROM
    employees
WHERE
    ROWNUM > 2
    OR employeeid > 8;
```

를 사용할 `ROWNUM > {positive integer}`때마다 식이 항상로 `false`계산 됩니다. SSMA는 오류 `O2SS0021`를 사용 하 여 문제를 보고 합니다. `ROWNUM > 2` 식을 제거 하면 문제를 해결할 수 있습니다.

## <a name="related-conversion-messages"></a>관련 변환 메시지

* O2SS0039: ROWNUM 의사 열를 변환할 수 없습니다.
* O2SS0081: SELECT 문에서 지원 되지 않는 별표 및 ROWNUM
* [O2SS0099: ORDER BY 절의 ROWNUM은 지원 되지 않습니다.](o2ss0099.md)
* O2SS0412: GROUPING SETS를 사용 하는 ROWNUM을 변환할 수 없습니다.

대부분의 경우에는 쿼리가 수행 하려는 작업을 `ROW_NUMBER()` 고려 하 고 에뮬레이션, `TOP` 절을 사용 하도록 다시 작성 하거나 `WHERE`, `GROUP BY`또는 `ORDER BY` 절에 고유한 식을 사용 합니다.
