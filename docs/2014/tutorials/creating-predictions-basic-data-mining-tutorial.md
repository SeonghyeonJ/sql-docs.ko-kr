---
title: 예측 만들기 (기본 데이터 마이닝 자습서) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: a8410ed2-bb98-4d51-a9eb-b239be1201c2
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: b32ffb832baf12a72df6e32b07386f24448b3c35
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/23/2019
ms.locfileid: "63285684"
---
# <a name="creating-predictions-basic-data-mining-tutorial"></a>예측 만들기(기본 데이터 마이닝 자습서)
  예측 쿼리 작성기를 사용 하 여 예측을 생성 한 다음 수 마이닝 모델의 정확도 테스트 하 고 결과 만족 했으면, 후 합니다 **마이닝 모델 예측** 데이터 마이닝에서 탭 디자이너입니다.  
  
 예측 쿼리 작성기에는 세 가지 뷰가 있습니다. 사용 하 여는 **디자인** 하 고 **쿼리** 뷰를 작성 하 여 쿼리를 검토할 수 있습니다. 다음 쿼리를 실행 하 고 결과를 볼 수 있습니다 합니다 **결과** 보기.  
  
 모든 예측 쿼리는 DMX(Data Mining Extensions) 언어를 사용합니다. DMX의 구문은 T-SQL의 구문과 비슷하지만 데이터 마이닝 개체에 대한 쿼리에 실행됩니다. DMX 구문이 복잡 하지는 않지만이 여기 또는의 것과 같은 쿼리 작성기를 사용 하는 [SQL Server 데이터 마이닝 추가 기능 Office 용](../../2014/analysis-services/data-mining/sql-server-data-mining-add-ins-for-office.md)를 훨씬 쉽게 입력을 선택 하 여 식을 작성할 수 있으므로 설명 하는 것이 좋습니다 바랍니다.  
  
## <a name="creating-the-query"></a>쿼리 만들기  
 예측 쿼리를 만드는 첫 번째 단계는 마이닝 모델과 입력 테이블을 선택하는 것입니다.  
  
#### <a name="to-select-a-model-and-input-table"></a>모델과 입력 테이블을 선택하려면  
  
1.  에 **마이닝 모델 예측** 데이터 마이닝 디자이너의 탭에서 합니다 **마이닝 모델** 상자를 클릭 합니다 **모델 선택**합니다.  
  
2.  에 **마이닝 모델 선택** 대화 상자에서 트리를 탐색 합니다 **Targeted Mailing** 구조, 구조를 확장 한 다음 선택 `TM_Decision_Tree`, 클릭 하 고 **확인**.  
  
3.  에 **입력 테이블 선택** 상자를 클릭 합니다 **사례 테이블 선택**합니다.  
  
4.  에 **테이블 선택** 대화 상자의 합니다 **데이터 원본** 목록에서 데이터 원본 뷰 선택 [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)]합니다.  
  
5.  **테이블/뷰 이름**를 선택 합니다 **ProspectiveBuyer (dbo)** 테이블을 마우스 클릭 **확인**합니다.  
  
     합니다 `ProspectiveBuyer` 테이블에 가장 유사한 합니다 **vTargetMail** 사례 테이블입니다.  
  
## <a name="mapping-the-columns"></a>열 매핑  
 입력 테이블을 선택하면 열 이름을 기반으로 마이닝 모델과 입력 테이블 간에 기본 매핑이 만들어집니다. 구조의 열 중 적어도 하나 이상의 열이 외부 데이터의 열과 일치해야 합니다.  
  
> [!IMPORTANT]  
>  모델의 정확도를 결정하는 데 사용하는 데이터에는 예측 가능한 열에 매핑될 수 있는 열이 포함되어 있어야 합니다. 이러한 열이 존재하지 않는 경우 빈 값으로 열을 만들 수 있지만 이 열은 예측 가능한 열과 동일한 데이터 형식을 사용해야 합니다.  
  
#### <a name="to-map-the-inputs-to-the-model"></a>입력을 모델에 매핑하려면  
  
1.  연결 하는 선을 마우스 오른쪽 단추로 클릭 합니다 **마이닝 모델** 창에는 **입력 테이블 선택** 창에서 선택한 **연결 수정**.  
  
     모든 열이 매핑되지는 않았습니다. 몇 가지에 대 한 매핑을 추가 합니다 **테이블 열**합니다. 또한 열이 더 잘 일치하도록 현재 날짜 열을 기반으로 새 생년월일 열을 생성합니다.  
  
2.  아래 **테이블 열**를 클릭 합니다 `Bike Buyer` 셀 하 고 드롭다운에서 ProspectiveBuyer.Unknown을 선택 합니다.  
  
     이는 예측 가능한 열인 [Bike Buyer]를 입력 테이블 열에 매핑합니다.  
  
3.  **확인**을 클릭합니다.  
  
4.  **솔루션 탐색기**를 마우스 오른쪽 단추로 클릭 합니다 **Targeted Mailing** 데이터 원본 뷰 및 선택 **뷰 디자이너**합니다.  
  
5.  ProspectiveBuyer 테이블을 마우스 오른쪽 단추로 누르고 **새 명명 된 계산**합니다.  
  
6.  에 **명명 된 계산 만들기** 대화 상자에 대 한 **열 이름**, 형식 `calcAge`합니다.  
  
7.  에 대 한 **설명을**, 형식 **생년월일에 따라 나 계산**합니다.  
  
8.  에 **식을** 상자에 입력 `DATEDIFF(YYYY,[BirthDate],getdate())` 클릭 하 고 **확인**합니다.  
  
     입력된 테이블에 없는 있으므로 **Age** 모델의 해당 열이이 식을 사용 하 여 입력된 테이블 BirthDate 열에서 고객 나가 계산 합니다. 이후 **Age** 큰 영향을 가장 주는으로 식별 된 입력된 테이블의 두 모델에 존재 해야 합니다 자전거 구매 예측에 대 한 열입니다.  
  
9. 데이터 마이닝 디자이너에서 선택 합니다 **마이닝 모델 예측** 탭을 다시 엽니다 합니다 **연결 수정** 창입니다.  
  
10. 아래 **테이블 열**, 클릭 합니다 **Age** 셀 하 고 드롭다운에서 ProspectiveBuyer.calcAge를 선택 합니다.  
  
    > [!WARNING]  
    >  목록에 열이 표시되지 않는 경우 디자이너에 로드되는 데이터 원본 뷰의 정의를 새로 고쳐야 할 수 있습니다. 이 작업을 수행 하는 **파일** 메뉴에서 **모두 저장**를 닫고 디자이너에서 프로젝트를 엽니다.  
  
11. **확인**을 클릭합니다.  
  
## <a name="designing-the-prediction-query"></a>예측 쿼리 디자인  
  
1.  도구 모음에서 첫 번째 단추는 **마이닝 모델 예측** 탭의 **디자인으로 전환 보기 / 결과 뷰로 전환 쿼리 뷰로 전환 /** 단추. 이 단추에서 아래쪽 화살표를 클릭 하 고 선택 **디자인**합니다.  
  
2.  모눈에 **마이닝 모델 예측** 탭에서 첫 번째 빈 행의 셀을 클릭 합니다 **원본** 열을 선택한 후 **예측 함수**합니다.  
  
3.  에 **예측 함수** 행의 합니다 **필드** 열을 선택 `PredictProbability`합니다.  
  
     에 **별칭** 동일한 행 형식 열의 **결과의 확률**합니다.  
  
4.  **마이닝 모델** 위의 창 선택 하 고 [Bike Buyer]를 끌어옵니다 합니다 **조건/인수** 셀입니다.  
  
     사용으로 전환 하면 [TM_Decision_Tree]. [Bike Buyer]에 표시 되는 **조건/인수** 셀입니다.  
  
     이렇게 하면 `PredictProbability` 함수의 대상 열이 지정됩니다. 함수에 대 한 자세한 내용은 참조 하세요. [Data Mining Extensions &#40;DMX&#41; 함수 참조](/sql/dmx/data-mining-extensions-dmx-function-reference)합니다.  
  
5.  다음 빈 행을 클릭 합니다 **소스** 열 및 TM_Decision_Tree 마이닝 모델을 선택한 후**합니다.**  
  
6.  에 `TM_Decision_Tree` 행의 합니다 **필드** 열을 선택 `Bike Buyer`합니다.  
  
7.  에 `TM_Decision_Tree` 행의 합니다 **조건/인수** 열, 형식 `=1`합니다.  
  
8.  다음 빈 행을 클릭 합니다 **소스** 열을 선택한 후 **ProspectiveBuyer 테이블**합니다.  
  
9. 에 `ProspectiveBuyer` 행의 합니다 **필드** 열을 선택 **ProspectiveBuyerKey**합니다.  
  
     이렇게 하면 자전거 구매 가능성이 있는 고객과 구매 가능성이 없는 고객을 식별할 수 있도록 예측 쿼리에 고유 식별자가 추가됩니다.  
  
10. 표에 5개의 행을 더 추가합니다. 각 행에 대해 **ProspectiveBuyer 테이블** 으로 **원본** 다음에 다음 열을 추가 합니다 **필드** 셀:  
  
    -   calcAge  
  
    -   LastName  
  
    -   FirstName  
  
    -   AddressLine1  
  
    -   AddressLine2  
  
 마지막으로 쿼리를 실행하고 결과를 찾아봅니다.  
  
 합니다 **예측 쿼리 작성기** 도 이러한 컨트롤이 포함 되어 있습니다.  
  
-   **표시** 확인란  
  
     디자이너에서 삭제할 필요 없이 쿼리에서 절을 제거할 수 있습니다. 이 확인란은 복잡한 쿼리로 작업할 때 DMX를 복사하여 창에 붙여 넣을 필요 없이 구문을 보존하려는 경우에 유용할 수 있습니다.  
  
-   **그룹**  
  
     선택한 줄의 시작 부분에 여는(왼쪽) 괄호를 삽입하거나 현재 줄의 끝에 닫는(오른쪽) 괄호를 삽입합니다.  
  
-   **AND/OR**  
  
     현재 함수나 열 바로 뒤에 `AND` 연산자 또는 `OR` 연산자를 삽입합니다.  
  
#### <a name="to-run-the-query-and-view-results"></a>쿼리를 실행하고 결과를 확인하려면  
  
1.  에 **마이닝 모델 예측** 탭을 선택 합니다 **결과** 단추입니다.  
  
2.  쿼리가 실행되고 결과가 표시되면 해당 결과를 검토할 수 있습니다.  
  
     합니다 **마이닝 모델 예측** 탭 자전거 구매자가 될 가능성이 있는 잠재 고객에 대 한 연락처 정보가 표시 됩니다. 합니다 **결과의 확률** 열은 예측의 확률을 나타냅니다. 이러한 결과를 사용하여 메일 대상으로 삼을 잠재 고객을 결정할 수 있습니다.  
  
3.  이때 결과를 저장할 수 있습니다. 세 가지 옵션이 있습니다.  
  
    -   선택한 결과에 데이터 행을 마우스 오른쪽 단추로 클릭 **복사** 해당 값만 (및 열 머리글)를 클립보드에 저장 합니다.  
  
    -   결과에서 행을 마우스 오른쪽 단추로 클릭 하 고 선택 **모두 복사** 클립보드를 열 머리글을 포함 하 여 전체 결과 집합을 복사 합니다.  
  
    -   클릭 **쿼리 결과 저장** 다음과 같이 데이터베이스에 직접 결과 저장 하려면:  
  
        1.  에 **데이터 마이닝 쿼리 결과 저장** 대화 상자에서 데이터 원본을 선택 하거나 새 데이터 원본을 정의 합니다.  
  
        2.  쿼리 결과를 포함할 테이블의 이름을 입력합니다.  
  
        3.  옵션을 사용 하 여 **DSV에 추가**테이블 만들기 및 기존 데이터 원본 뷰에 추가할로 합니다. 에 대 한 모든 관련된 테이블을 유지 하려는 경우는 모델 같은 학습 데이터, 예측 원본 데이터 및 쿼리 결과-동일한 데이터 소스 뷰에서 유용 합니다.  
  
        4.  옵션을 사용 하 여 **덮어쓰기 존재**최신 결과 사용 하 여 기존 테이블을 업데이트 합니다.  
  
             예측 쿼리에 열을 추가한 경우, 예측 쿼리에서 열의 이름 또는 데이터 형식을 변경한 경우, 대상 테이블에서 ALTER 문을 실행한 경우 테이블을 덮어 쓰려면 이 옵션을 사용해야 합니다.  
  
             또한 여러 열의 이름이 같은 경우 (예를 들어, 기본 열 이름인 **식**) 디자이너가 SQL에 결과 저장 하려고 하면 오류가 발생 하거나 중복 된 이름의 열에 대 한 별칭을 만들어야 합니다 서버입니다. 그 이유는 SQL Server가 여러 열에서 동일한 이름을 갖도록 허용하지 않기 때문입니다.  
  
             자세한 내용은 [저장할 데이터 마이닝 쿼리 결과 대화 상자 &#40;마이닝 모델 예측 뷰&#41;](../../2014/analysis-services/save-data-mining-query-result-dialog-box-mining-model-prediction-view.md)합니다.  
  
## <a name="next-task-in-lesson"></a>단원의 다음 태스크  
 [구조 데이터에 드릴스루를 사용 하 여 &#40;기본 데이터 마이닝 자습서&#41;](../../2014/tutorials/using-drillthrough-on-structure-data-basic-data-mining-tutorial.md)  
  
## <a name="see-also"></a>관련 항목  
 [예측 쿼리 작성기를 사용하여 예측 쿼리 만들기](../../2014/analysis-services/data-mining/create-a-prediction-query-using-the-prediction-query-builder.md)  
  
  
