---
title: 유지 관리 계획 마법사 사용 | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- sql12.ag.maintwiz.planprop.f1
- sql12.ag.maintwiz.task.f1
- sql12.ag.maintwiz.maintcleanup.f1
- sql12.ag.maintwiz.indexdefrag.f1
- sql12.ag.maintwiz.order.f1
- sql12.ag.maintwiz.histcleanup.f1
- sql12.ag.maintwiz.backuplog.f1
- sql12.ag.maintwiz.progress.f1
- sql12.ag.maintwiz.execagentjob.f1
- sql12.ag.maintwiz.integrity.f1
- sql12.ag.maintwiz.welcome.f1
- sql12.ag.maintwiz.backupdiff.f1
- sql12.ag.maintwiz.server.f1
- sql12.ag.maintwiz.summary.f1
- sql12.ag.maintwiz.backupfull.f1
- sql12.ag.maintwiz.report.f1
- sql12.ag.maintwiz.shrinkdb.f1
- sql12.ag.maintwiz.reindex.f1
- sql12.ag.maintwiz.updatestats.f1
helpviewer_keywords:
- Maintenance Plan Wizard
- Database Maintenance Plan Wizard
- Database Maintenance Plan Wizard, starting
ms.assetid: db65c726-9892-480c-873b-3af29afcee44
author: MikeRayMSFT
ms.author: mikeray
manager: craigg
ms.openlocfilehash: 105e8022775642d915cbcedf180ed9e07f8bc958
ms.sourcegitcommit: 4baa8d3c13dd290068885aea914845ede58aa840
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/13/2020
ms.locfileid: "79289171"
---
# <a name="use-the-maintenance-plan-wizard"></a>유지 관리 계획 마법사 사용
  이 항목에서는 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]에서 유지 관리 계획 마법사를 사용하여 단일 서버 또는 다중 서버 유지 관리 계획을 만드는 방법에 대해 설명합니다. 유지 관리 계획 마법사는 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에이전트가 정기적으로 실행할 수 있는 유지 관리 계획을 만듭니다. 이를 통해 백업, 데이터베이스 무결성 확인 또는 지정된 간격으로 데이터베이스 통계 업데이트와 같은 다양한 데이터베이스 관리 태스크를 수행할 수 있습니다.  
  
 **항목 내용**  
  
-   **시작하기 전 주의 사항:**  
  
     [제한 사항](#Restrictions)  
  
     [보안](#Security)  
  
-   [SQL Server Management Studio에서 유지 관리 계획 마법사를 사용하여 유지 관리 계획 만들기](#SSMSProcedure)  
  
##  <a name="BeforeYouBegin"></a> 시작하기 전에  
  
###  <a name="Restrictions"></a> 제한 사항  
  
-   다중 서버 유지 관리 계획을 만들려면 하나의 마스터 서버 및 하나 이상의 대상 서버가 있는 다중 서버 환경을 구성해야 합니다. 다중 서버 유지 관리 계획은 마스터 서버에서 만들고 유지 관리해야 합니다. 이러한 계획을 대상 서버에서 볼 수 있지만 유지 관리할 수는 없습니다.  
  
-   **db_ssisadmin** 및 **dc_admin** 역할의 멤버는 해당 권한을 **sysadmin**으로 승격할 수 있습니다. 이러한 권한 승격이 발생할 수 있는 것은 이러한 역할이 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 패키지를 수정할 수 있고 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에서 **에이전트의** sysadmin [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 보안 컨텍스트를 사용하여 이러한 패키지를 실행할 수 있기 때문입니다. 유지 관리 계획, 데이터 컬렉션 집합 및 기타 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 패키지를 실행할 때 이러한 권한 상승이 발생하지 않도록 하려면 패키지를 실행하는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에이전트 작업이 제한된 권한을 갖는 프록시 계정을 사용하도록 구성하거나 **db_ssisadmin** 및 **dc_admin** 역할에 **sysadmin** 멤버만 추가합니다.  
  
###  <a name="Security"></a> 보안  
  
####  <a name="Permissions"></a> 권한  
 유지 관리 계획을 만들거나 관리하려면 **sysadmin** 고정 서버 역할의 멤버여야 합니다. 개체 탐색기에 **sysadmin** 고정 서버 역할의 멤버인 사용자에 대한 **유지 관리 계획** 노드만 표시됩니다.  
  
##  <a name="SSMSProcedure"></a>유지 관리 계획 마법사 사용  
  
#### <a name="to-start-the-maintenance-plan-wizard"></a>유지 관리 계획 마법사를 시작하려면  
  
1.  유지 관리 계획을 만들 서버를 확장합니다.  
  
2.  **관리** 폴더를 확장합니다.  
  
3.  **유지 관리 계획** 폴더를 마우스 오른쪽 단추로 클릭하고 **유지 관리 계획 마법사**를 선택합니다.  
  
4.  **SQL Server 유지 관리 계획 마법사** 페이지에서 **다음**을 클릭합니다.  
  
5.  **계획 속성 선택** 페이지에서:  
  
    1.  **이름** 상자에 만들 유지 관리 계획의 이름을 입력합니다.  
  
    2.  **설명** 상자에 유지 관리 계획에 대한 간략한 설명을 입력합니다.  
  
    3.  **다음 계정으로 실행** 목록에서 Microsoft SQL Server 에이전트가 유지 관리 계획을 실행할 때 사용하는 자격 증명을 지정합니다.  
  
    4.  **각 태스크에 별도의 일정** 또는 **전체 계획에 하나의 일정 또는 일정 없음** 을 선택하여 유지 관리 계획의 되풀이 일정을 지정합니다.  
  
        > [!NOTE]  
        >  
  **각 태스크에 별도의 일정**을 선택할 경우 **e.** 단계를 수행해야 합니다. 단계를 수행해야 합니다.  
  
    5.  **전체 계획에 하나의 일정 또는 일정 없음**을 선택하는 경우에는 **일정**아래에서 **변경**을 클릭합니다.  
  
        1.  **새 작업 일정** 대화 상자의 **이름** 상자에 작업 일정 이름을 입력합니다.  
  
        2.  **일정 유형** 목록에서 다음과 같은 일정 유형을 선택합니다.  
  
            -   **SQL Server 에이전트가 시작될 때 자동으로 시작**  
  
            -   **CPU가 유휴 상태로 될 때마다 시작**  
  
            -   **되풀이**. 이 옵션이 기본 옵션입니다.  
  
            -   **한 번**  
  
        3.  일정을 사용하거나 사용하지 않으려면 **사용** 확인란을 선택하거나 선택을 취소합니다.  
  
        4.  **되풀이**를 선택하는 경우 다음을 수행합니다.  
  
            1.  **빈도**아래의 **되풀이** 목록에서 다음과 같이 발생 빈도를 지정합니다.  
  
                -   **일별**을 선택하는 경우 **매** 상자에 작업 일정을 반복하는 일 수를 입력합니다.  
  
                -   **주별**을 선택하는 경우 **매** 상자에 작업 일정을 반복하는 주 수를 입력합니다. 작업 일정을 실행할 요일을 선택합니다.  
  
                -   **월별**을 선택한 경우 **매(Day)** 또는 **매(The)** 를 선택합니다.  
  
                    -   **매(Day)** 를 선택한 경우 작업 일정을 실행할 날짜와 작업 일정을 반복할 월 수를 모두 입력합니다. 예를 들어 작업 일정을 격월로 15일에 실행하려면 **매(Day)** 를 선택하고 첫 번째 상자에 "15", 두 번째 상자에 "2"를 입력합니다. 두 번째 상자에 허용되는 가장 큰 숫자는 "99"입니다.  
  
                    -   **매(The)** 를 선택한 경우 작업 일정을 실행할 요일 및 작업 일정을 반복할 월 수를 입력합니다. 예를 들어 작업 일정을 격월로 마지막 평일에 실행하려면 **매(Day)** 를 선택하고 첫 번째 목록에서 **마지막**, 두 번째 목록에서 **평일**을 선택한 다음, 마지막 상자에 "2"를 입력합니다. **첫 번째**, **두 번째**, **세 번째** 또는 **네 번째** 또는 특정 평일(예: 일요일 또는 수요일)을 선택할 수도 있습니다. 마지막 상자에 허용되는 가장 큰 숫자는 "99"입니다.  
  
            2.  **일별 빈도**에서 작업 일정이 실행되는 날에 작업 일정을 반복하는 빈도를 지정합니다.  
  
                -   **한 번 수행**을 선택하는 경우 **한 번 수행** 상자에 작업 일정을 실행할 특정 시간을 입력합니다. 시간, 분, 초와 오전 또는 오후를 입력합니다.  
  
                -   **되풀이 수행**을 선택하는 경우 **빈도**에 선택한 날 동안 작업 일정을 실행할 빈도를 지정합니다. 예를 들어 작업 일정을 실행하는 날에 2시간마다 작업 일정을 반복하려면 **되풀이 수행**을 선택하고 첫 번째 상자에 "2"를 입력한 다음, 목록에서 **시간**을 선택합니다. 이 목록에서 **분** 과 **초**도 선택할 수 있습니다. 첫 번째 상자에 허용되는 가장 큰 숫자는 "100"입니다.  
  
                     **시작** 상자에 작업 일정 실행을 시작할 시간을 입력합니다. **종료** 상자에 작업 일정 반복을 중지할 시간을 입력합니다. 시간, 분, 초와 오전 또는 오후를 입력합니다.  
  
            3.  **기간**아래의 **시작 날짜**에 작업 일정 실행을 시작할 날짜를 입력합니다. **종료 날짜** 또는 **종료 날짜 없음** 을 선택하여 작업 일정 실행을 중지할 시기를 나타냅니다. **종료 날짜**를 선택하는 경우 작업 일정 실행을 중지할 날짜를 입력합니다.  
  
        5.  **한 번**을 선택하는 경우 **한 번 발생**아래 **날짜** 상자에 작업 일정을 실행할 날짜를 입력합니다. **시간** 상자에 작업 일정을 실행할 시간을 입력합니다. 시간, 분, 초와 오전 또는 오후를 입력합니다.  
  
        6.  **요약**아래 **설명**에서 모든 작업 일정 설정이 올바른지 확인합니다.  
  
        7.  **확인**을 클릭합니다.  
  
    6.  **다음**을 클릭합니다.  
  
6.  **대상 서버 선택** 페이지에서 유지 관리 계획을 실행할 서버를 선택합니다. 이 페이지는 마스터 서버로 구성된 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스에만 표시됩니다.  
  
    > [!NOTE]  
    >  다중 서버 유지 관리 계획을 만들려면 하나의 마스터 서버와 하나 이상의 대상 서버가 있는 다중 서버 환경을 구성하고 로컬 서버를 마스터 서버로 구성해야 합니다. 다중 서버 환경에서 이 페이지에는 **(로컬)** 마스터 서버와 해당하는 모든 대상 서버가 표시됩니다.  
  
7.  **유지 관리 태스크 선택** 페이지에서 계획에 추가할 유지 관리 태스크를 하나 이상 선택합니다. 필요한 태스크를 모두 선택했으면 **다음**을 클릭합니다.  
  
    > [!NOTE]  
    >  여기에서 선택하는 태스크에 따라 아래의 **유지 관리 태스크 순서 선택** 페이지 다음에 완료해야 하는 페이지가 결정됩니다.  
  
8.  **유지 관리 태스크 순서 선택** 페이지에서 태스크를 선택하고 **위로 이동...** 또는 **아래로 이동...** 을 클릭하여 태스크의 실행 순서를 변경합니다. 완료했거나 현재 태스크 순서에 만족하면 **다음**을 클릭합니다.  
  
    > [!NOTE]  
    >  위의 **계획 속성 선택** 페이지에서 **각 태스크에 별도의 일정**을 선택한 경우 이 페이지에서 유지 관리 태스크의 순서를 변경할 수 없습니다.  
  
#### <a name="define-database-check-integrity-checkdb-tasks"></a>데이터베이스 무결성 검사(CHECKDB) 태스크 정의  
  
1.  **데이터베이스 무결성 검사 태스크 정의** 페이지에서 사용자와 시스템 테이블 및 인덱스의 할당 및 구조적 무결성을 검사할 데이터베이스를 선택합니다. 이 태스크에서는 `DBCC CHECKDB`[!INCLUDE[tsql](../../includes/tsql-md.md)] 문을 실행하여 데이터베이스의 모든 무결성 문제를 보고하므로 시스템 관리자나 데이터베이스 소유자가 나중에 이러한 문제를 처리할 수 있습니다. 자세한 내용은 [DBCC CHECKDB&#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql)를 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **데이터베이스** 목록  
     이 태스크의 영향을 받는 데이터베이스를 지정합니다.  
  
    -   **모든 데이터베이스**  
  
         **tempdb**를 제외한 모든 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 데이터베이스에 대해 이 태스크를 실행하는 유지 관리 계획을 생성합니다.  
  
    -   **시스템 데이터베이스**  
  
         [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tempdb **및 사용자가 만든 데이터베이스를 제외한** 시스템 데이터베이스에 대해 이 태스크를 실행하는 유지 관리 계획을 생성합니다.  
  
    -   **모든 사용자 데이터베이스(master, model, msdb, tempdb 제외)**  
  
         사용자가 만든 모든 데이터베이스에 대해 이 태스크를 실행하는 유지 관리 계획을 생성합니다. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 시스템 데이터베이스에 대해서는 유지 관리 태스크가 실행되지 않습니다.  
  
    -   **다음 데이터베이스**  
  
         선택한 데이터베이스에 대해서만 이 태스크를 실행하는 유지 관리 계획을 생성합니다. 이 옵션을 선택한 경우에는 목록에서 하나 이상의 데이터베이스를 선택해야 합니다.  
  
     **인덱스 포함** 확인란  
     모든 인덱스 페이지와 테이블 데이터 페이지가 올바른지 확인합니다.  
  
#### <a name="define-database-shrink-tasks"></a>데이터베이스 축소 태스크 정의  
  
1.  **데이터베이스 축소 태스크 정의** 페이지에서 `DBCC SHRINKDATABASE` 또는 `NOTRUNCATE` 옵션과 함께 `TRUNCATEONLY` 문을 사용하여 선택한 데이터베이스의 크기를 축소하는 태스크를 만듭니다. 자세한 내용은 [DBCC SHRINKDATABASE&#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-shrinkdatabase-transact-sql)를 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
    > [!WARNING]  
    >  파일 축소를 위해 이동되는 데이터는 파일 내의 모든 사용 가능한 위치로 분산될 수 있습니다. 이로 인해 인덱스 조각화가 발생하여 인덱스 범위를 검색하는 쿼리 성능이 저하될 수 있습니다. 조각화를 방지하려면 축소 후 파일에 대한 인덱스를 다시 작성하는 것이 좋습니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **데이터베이스** 목록  
     이 태스크의 영향을 받는 데이터베이스를 지정합니다. 이 목록에서 사용할 수 있는 옵션에 대한 자세한 내용은 위의 9단계를 참조하세요.  
  
     **데이터베이스 크기가 다음을 초과하면 축소** 상자  
     데이터베이스 축소 태스크를 시작하는 기준이 되는 크기(MB)를 지정합니다.  
  
     **축소 후 데이터 공간 유지 비율** 상자  
     데이터베이스 파일의 사용 가능한 공간이 이 크기(백분율)에 도달하면 축소를 중지합니다.  
  
     **데이터베이스 파일에 확보된 공간 유지**  
     데이터베이스가 인접 페이지로 압축되지만 해당 페이지의 할당이 취소되지 않으므로 데이터베이스 파일이 축소되지 않습니다. 공간을 다시 할당하지 않고 데이터베이스를 다시 확장하려면 이 옵션을 사용합니다. 이 옵션을 사용하면 데이터베이스 파일이 가능한 한 축소되지 않습니다. 이 작업에서는 NOTRUNCATE 옵션을 사용합니다.  
  
     **해제된 공간을 운영 체제로 반환**  
     데이터베이스가 인접 페이지로 압축되며 다른 프로그램에서 사용할 수 있도록 해당 페이지가 운영 체제로 반환됩니다. 이 데이터베이스 파일은 가능한 한 큰 폭으로 축소됩니다. 이 작업에서는 TRUNCATEONLY 옵션을 사용합니다. 기본 옵션입니다.  
  
#### <a name="define-the-index-tasks"></a>인덱스 태스크 정의  
  
1.  **인덱스 다시 구성 태스크 정의** 페이지에서 인덱스 페이지를 보다 효율적인 검색 순서로 이동할 서버를 선택합니다. 이 태스크에서는 `ALTER INDEX ... REORGANIZE` 문을 사용합니다. 자세한 내용은 [ALTER INDEX&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql)를 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **데이터베이스** 목록  
     이 태스크의 영향을 받는 데이터베이스를 지정합니다. 이 목록에서 사용할 수 있는 옵션에 대한 자세한 내용은 위의 9단계를 참조하세요.  
  
     **개체** 목록  
     테이블, 뷰 또는 둘 다를 표시하도록 **선택** 목록을 제한합니다. 이 목록은 위의 **데이터베이스** 목록에서 단일 데이터베이스를 선택한 경우에만 사용할 수 있습니다.  
  
     **선택** 목록  
     이 태스크의 영향을 받는 테이블 또는 인덱스를 지정합니다. 개체 상자에서 **테이블 및 뷰** 를 선택한 경우에는 사용할 수 없습니다.  
  
     **큰 개체 압축** 확인란  
     가능한 경우에 테이블 및 뷰에 대한 공간 할당을 취소합니다. 이 옵션에서는 `ALTER INDEX ... LOB_COMPACTION = ON`을 사용합니다.  
  
2.  **인덱스 다시 작성 태스크 정의** 페이지에서 여러 인덱스를 다시 만들 데이터베이스를 선택합니다. 이 태스크에서는 `ALTER INDEX ... REBUILD PARTITION` 문을 사용합니다. 자세한 내용은 [ALTER INDEX&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql)를 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **데이터베이스** 목록  
     이 태스크의 영향을 받는 데이터베이스를 지정합니다. 이 목록에서 사용할 수 있는 옵션에 대한 자세한 내용은 위의 9단계를 참조하세요.  
  
     **개체** 목록  
     테이블, 뷰 또는 둘 다를 표시하도록 **선택** 목록을 제한합니다. 이 목록은 위의 **데이터베이스** 목록에서 단일 데이터베이스를 선택한 경우에만 사용할 수 있습니다.  
  
     **선택** 목록  
     이 태스크의 영향을 받는 테이블 또는 인덱스를 지정합니다. 개체 상자에서 **테이블 및 뷰** 를 선택한 경우에는 사용할 수 없습니다.  
  
     **사용 가능한 공간 옵션** 영역  
     인덱스와 테이블에 채우기 비율을 적용하기 위한 옵션을 제공합니다.  
  
     **페이지당 기본 여유 공간**  
     기본 여유 공간 크기로 페이지를 다시 구성합니다. 이렇게 하면 데이터베이스 테이블의 인덱스를 삭제하고 인덱스를 만들 때 지정한 채우기 비율로 인덱스를 다시 만듭니다. 기본 옵션입니다.  
  
     **페이지당 빈 공간 비율을 다음으로 변경** 상자  
     데이터베이스 테이블의 인덱스를 삭제하고 자동으로 계산된 새 채우기 비율로 인덱스를 다시 만들기 때문에 인덱스 페이지에 대해 지정된 크기의 사용 가능한 공간이 예약됩니다. 이 비율이 커질수록 인덱스 페이지에 대해 더 많은 사용 가능한 공간이 예약되고 인덱스가 더 커집니다. 유효한 값은 0에서 100까지입니다. `FILLFACTOR` 옵션을 사용합니다.  
  
     **고급 옵션** 영역  
     인덱스를 정렬하고 인덱스를 다시 만들기 위한 추가 옵션을 제공합니다.  
  
     **tempdb에 결과 정렬** 확인란  
     인덱스를 만드는 동안 생성된 중간 정렬 결과가 임시로 저장되는 위치를 결정하려면 `SORT_IN_TEMPDB` 옵션을 사용합니다. 정렬 작업이 필요하지 않거나 메모리에서 정렬을 수행할 수 있으면 `SORT_IN_TEMPDB` 옵션이 무시됩니다.  
  
     **인덱스를 다시 만드는 동안 인덱스를 온라인으로 유지** 확인란  
     사용자가 인덱스 작업을 수행하는 동안 기본 테이블이나 클러스터형 인덱스 데이터 및 연관된 모든 비클러스터형 인덱스에 액세스할 수 있는 `ONLINE` 옵션을 사용합니다. 이 옵션을 선택하면 온라인 다시 작성에 허용되지 않는 인덱스를 다시 작성하기 위한 추가 옵션인 **인덱스 다시 작성 안 함** 및 **오프라인 인덱스 다시 작성**이 활성화됩니다.  
  
    > [!NOTE]  
    >  온라인 인덱스 작업은 일부 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]버전에서 사용할 수 있습니다. 자세한 내용은 [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)을 참조하세요.  
  
#### <a name="define-the-update-statistics-task"></a>통계 업데이트 태스크 정의  
  
1.  **통계 업데이트 태스크 정의** 페이지에서 테이블 및 인덱스 통계가 업데이트될 데이터베이스를 정의합니다. 이 태스크에서는 `UPDATE STATISTICS` 문을 사용합니다. 자세한 내용은 [UPDATE STATISTICS&#40;Transact-SQL&#41;](/sql/t-sql/statements/update-statistics-transact-sql)를 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **데이터베이스** 목록  
     이 태스크의 영향을 받는 데이터베이스를 지정합니다. 이 목록에서 사용할 수 있는 옵션에 대한 자세한 내용은 위의 9단계를 참조하세요.  
  
     **개체** 목록  
     테이블, 뷰 또는 둘 다를 표시하도록 **선택** 목록을 제한합니다. 이 목록은 위의 **데이터베이스** 목록에서 단일 데이터베이스를 선택한 경우에만 사용할 수 있습니다.  
  
     **선택** 목록  
     이 태스크의 영향을 받는 테이블 또는 인덱스를 지정합니다. 개체 상자에서 **테이블 및 뷰** 를 선택한 경우에는 사용할 수 없습니다.  
  
     **모든 기존 통계**  
     열과 인덱스의 통계를 모두 업데이트합니다.  
  
     **열 통계만**  
     열 통계만 업데이트합니다. `WITH COLUMNS` 옵션을 사용합니다.  
  
     **인덱스 통계만**  
     인덱스 통계만 업데이트합니다. `WITH INDEX` 옵션을 사용합니다.  
  
     **검색 유형**  
     업데이트된 통계를 수집하는 데 사용되는 검색 유형입니다.  
  
     **전체 검색**  
     통계를 수집하기 위해 테이블이나 뷰의 모든 행을 읽습니다.  
  
     **샘플링 기준**  
     보다 큰 테이블이나 뷰에 대한 통계를 수집할 때 샘플링할 행의 수 또는 테이블이나 인덱싱된 뷰의 백분율을 지정합니다.  
  
#### <a name="define-the-history-cleanup-task"></a>기록 정리 태스크 정의  
  
1.  **기록 정리 태스크 정의** 페이지에서 오래된 태스크 기록을 삭제할 데이터베이스를 정의합니다. 이 태스크는 `EXEC sp_purge_jobhistory`, `EXEC sp_maintplan_delete_log`및 `EXEC sp_delete_backuphistory` 문을 사용하여 **msdb** 테이블에서 기록 정보를 제거합니다. 완료되면 **다음**을 클릭합니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **삭제할 기록 데이터를 선택하세요.**  
     삭제할 태스크 데이터의 형식을 선택합니다.  
  
     **백업 및 복원 기록**  
     최근 백업을 만들었을 당시의 기록을 보존하면 데이터베이스를 복원하려고 할 때 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에서 복구 계획을 만드는 데 도움이 될 수 있습니다. 보존 기간은 적어도 전체 데이터베이스 백업 빈도만큼 되어야 합니다.  
  
     **SQL Server 에이전트 작업 기록**  
     이 기록을 사용하면 실패한 작업의 문제를 해결하거나 데이터베이스 동작의 발생 이유를 확인하는 데 도움이 됩니다.  
  
     **유지 관리 계획 기록**  
     이 기록을 사용하면 실패한 유지 관리 계획 동작의 문제를 해결하거나 데이터베이스 작업의 발생 이유를 확인하는 데 도움이 됩니다.  
  
     **다음보다 오래된 기록 데이터 제거**  
     삭제할 항목의 보존 기간을 지정합니다. **시**, **일**, **주** (기본값), **월**또는 **년**을 지정할 수 있습니다.  
  
#### <a name="define-the-execute-agent-job-task"></a>에이전트 작업 실행 태스크 정의  
  
1.  **에이전트 작업 실행 태스크 정의** 페이지의 **사용 가능한 SQL Server 에이전트 작업**에서 실행할 작업을 선택합니다. SQL 에이전트 작업이 없으면 이 옵션을 사용할 수 없습니다. 이 태스크에서는 `EXEC sp_start_job` 문을 사용합니다. 자세한 내용은 [sp_start_job&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-start-job-transact-sql)을 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
#### <a name="define-backup-tasks"></a>백업 태스크 정의  
  
1.  **데이터베이스 백업(전체) 태스크 정의** 페이지에서 전체 백업을 실행할 데이터베이스를 선택합니다. 이 태스크에서는 `BACKUP DATABASE` 문을 사용합니다. 자세한 내용은 [BACKUP&#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql)을 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **백업 유형** 목록  
     수행할 백업 유형을 표시합니다. 읽기 전용입니다.  
  
     **데이터베이스** 목록  
     이 태스크의 영향을 받는 데이터베이스를 지정합니다. 이 목록에서 사용할 수 있는 옵션에 대한 자세한 내용은 위의 9단계를 참조하세요.  
  
     **백업 구성 요소**  
     전체 데이터베이스를 백업하려면 **데이터베이스** 를 선택합니다. 데이터베이스 일부만 백업하려면 **파일 및 파일 그룹** 을 선택합니다. 이 옵션을 선택한 경우 파일 또는 파일 그룹 이름을 제공합니다. **데이터베이스** 상자에서 여러 데이터베이스를 선택한 경우에는 **백업 구성 요소** 에 대해 **데이터베이스**만 지정합니다. 파일 또는 파일 그룹 백업을 수행하려면 각 데이터베이스에 대해 태스크를 만듭니다. 이러한 옵션은 위의 **데이터베이스** 목록에서 단일 데이터베이스를 선택한 경우에만 사용할 수 있습니다.  
  
     **백업 세트 만료 기한** 확인란  
     이 백업에 대한 백업 세트를 덮어쓸 수 있는 날짜를 지정합니다. **다음 이후** 를 선택하고 만료까지의 일 수를 입력하거나 **날짜** 를 선택하고 만료 날짜를 입력합니다. **URL** 이 백업 대상으로 선택된 경우 이 옵션을 사용할 수 없습니다.  
  
     **백업할 위치**  
     데이터베이스를 백업할 미디어를 지정합니다. **디스크**, **테이프**또는 **URL**을 선택합니다. 데이터베이스를 포함하는 컴퓨터에 연결된 테이프 디바이스만 사용할 수 있습니다.  
  
     **하나 이상의 파일에 데이터베이스 백업**  
     **추가** 를 클릭하여 **백업 대상 선택** 대화 상자를 엽니다. URL을 백업 대상으로 선택한 경우 이 옵션을 사용할 수 없습니다.  
  
     대화 상자에서 파일을 제거하려면 **제거** 를 클릭합니다.  
  
     파일 헤더를 읽고 파일의 현재 백업 내용을 표시하려면 **내용** 을 클릭합니다.  
  
     **백업 대상 선택** 대화 상자  
     백업 대상으로 파일, 테이프 드라이브 또는 백업 디바이스를 선택합니다. URL을 백업 대상으로 선택한 경우 이 옵션을 사용할 수 없습니다.  
  
     **백업 파일이 있는 경우** 목록  
     기존 백업 처리 방법을 지정합니다. 파일이나 테이프의 기존 백업 뒤에 새 백업을 추가하려면 **추가** 를 선택합니다. 파일이나 테이프의 이전 내용을 제거하고 새 백업으로 바꾸려면 **덮어쓰기** 를 선택합니다.  
  
     **모든 데이터베이스에 대한 백업 파일 만들기**  
     폴더 상자에서 지정한 위치에 백업 파일을 만듭니다. 선택한 데이터베이스당 하나의 파일이 생성됩니다. URL을 백업 대상으로 선택한 경우 이 옵션을 사용할 수 없습니다.  
  
     **각 데이터베이스에 대한 하위 디렉터리 만들기** 확인란  
     지정한 디스크 디렉터리 아래에 유지 관리 계획의 일부로 백업 중인 각 데이터베이스에 대한 데이터베이스 백업이 있는 하위 디렉터리를 만듭니다.  
  
    > [!IMPORTANT]  
    >  하위 디렉터리는 부모 디렉터리에서 사용 권한을 상속받습니다. 무단으로 액세스하지 못하도록 하려면 사용 권한을 제한하세요.  
  
     **폴더** 상자  
     자동으로 생성된 데이터베이스 파일을 포함할 폴더를 지정합니다. URL을 백업 대상으로 선택한 경우 이 옵션을 사용할 수 없습니다.  
  
     **SQL 자격 증명**  
     Azure Storage에 인증하는 데 사용되는 SQL 자격 증명을 선택합니다. 사용할 수 있는 기존 SQL 자격 증명이 없는 경우 **만들기** 단추를 클릭하여 새 SQL 자격 증명을 만듭니다.  
  
    > [!IMPORTANT]  
    >  **만들기** 를 클릭하면 열리는 대화 상자에서는 관리 인증서나 구독용 게시 프로필이 필요합니다. 관리 인증서나 게시 프로필에 액세스할 수 없는 경우 Transact-SQL이나 SQL Server Management Studio를 사용하여 스토리지 계정 이름을 지정하고 키 정보에 액세스하여 SQL 자격 증명을 만들 수 있습니다. Transact-sql을 사용 하 여 자격 증명을 만들려면 [이 항목의 샘플 코드를 참조](../security/authentication-access/create-a-credential.md#Credential) 하세요. 또는 SQL Server Management Studio를 사용하여 데이터베이스 엔진 인스턴스에서 **보안**을 마우스 오른쪽 단추로 클릭하고 **새로 만들기**, **자격 증명**을 차례로 선택합니다. **ID** 에 대한 스토리지 계정 이름을 지정하고 **암호** 필드에 액세스 키를 지정합니다.  
  
     **Azure Storage 컨테이너**  
     Azure Storage 컨테이너의 이름을 지정합니다.  
  
     **URL 접두사:**  
     이는 지정된 Azure 스토리지 컨테이너 이름 및 SQL 자격 증명에 저장된 스토리지 계정 정보를 기반으로 자동 생성됩니다. **\<storage account>.blob.core.windows.net** 이외의 형식을 사용하는 도메인을 사용하지 않는 경우 이 필드의 정보를 편집하지 않는 것이 좋습니다.  
  
     **백업 파일 확장명** 상자  
     백업 파일에 사용할 확장명을 지정합니다. 기본값은 .bak입니다.  
  
     **백업 무결성 확인** 확인란  
     백업 세트가 올바른지 확인하고 모든 볼륨을 읽을 수 있는지 확인합니다.  
  
     **백업 암호화**  
     암호화된 백업을 만들려면 **백업 암호화** 확인란을 선택합니다. 암호화 단계에 사용할 암호화 알고리즘을 선택하고 기존 인증서 또는 비대칭 키 목록의 인증서 또는 비대칭 키를 제공합니다. 사용 가능한 암호화 알고리즘은 다음과 같습니다.  
  
    -   AES 128  
  
    -   AES 192  
  
    -   AES 256  
  
    -   Triple DES  
  
     기존 백업 세트에 추가하도록 선택한 경우 암호화 옵션을 사용할 수 없습니다.  
  
     인증서나 키를 백업하고 암호화한 백업과 다른 위치에 저장하는 것이 좋습니다.  
  
     EKM(Extensible Key Management)에 있는 키만 지원됩니다.  
  
     **백업 압축 설정**  목록  
     [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] (이상 버전)에서 다음 [백업 압축](../backup-restore/backup-compression-sql-server.md) 값 중 하나를 선택합니다.  
  
    |||  
    |-|-|  
    |**기본 서버 설정 사용**|서버 수준 기본값을 사용하려면 클릭합니다. 이 기본값은 **백업 압축 기본값** 서버 구성 옵션으로 설정됩니다. 이 옵션의 현재 설정을 확인하는 방법에 대한 자세한 내용은 [백업 압축 기본값 서버 구성 옵션 보기 또는 구성](../../database-engine/configure-windows/view-or-configure-the-backup-compression-default-server-configuration-option.md)을 참조하세요.|  
    |**백업 압축**|서버 수준 기본값에 관계없이 백업을 압축하려면 클릭합니다.<br /><br /> **\*\* 중요 \*\*** 압축 시에는 기본적으로 CPU 사용량이 크게 증가하며, 압축 프로세스에서 CPU를 추가로 사용하므로 동시 작업 성능이 저하될 수 있습니다. 따라서 CPU 사용량이 리소스 관리자에 의해 제한되는 세션에서 우선 순위가 낮은 압축 백업을 만들 수 있습니다. 자세한 내용은 이 항목 뒷부분의 [Resource GovernoR을 사용하여 백업 압축을 통해 CPU 사용량 제한&#40;Transact-SQL&#41;](../backup-restore/use-resource-governor-to-limit-cpu-usage-by-backup-compression-transact-sql.md)에 의해 제한되는 세션에서 우선 순위가 낮은 압축 백업을 만들 수 있습니다.|  
    |**백업 압축 안 함**|서버 수준 기본값에 관계없이 압축되지 않은 백업을 만들려면 클릭합니다.|  
  
2.  **데이터베이스 백업(차등) 태스크 정의** 페이지에서 부분 백업을 실행할 데이터베이스를 선택합니다. 이 페이지에서 사용할 수 있는 옵션에 대한 자세한 내용은 위의 16단계에 있는 정의 목록을 참조하세요. 이 태스크에서는 `BACKUP DATABASE ... WITH DIFFERENTIAL` 문을 사용합니다. 자세한 내용은 [BACKUP&#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql)을 참조하세요.  완료되면 **다음**을 클릭합니다.  
  
3.  **데이터베이스 백업(트랜잭션 로그) 태스크 정의** 페이지에서 트랜잭션 로그에 대한 백업을 실행할 데이터베이스를 선택합니다. 이 페이지에서 사용할 수 있는 옵션에 대한 자세한 내용은 위의 16단계에 있는 정의 목록을 참조하세요. 이 태스크에서는 `BACKUP LOG` 문을 사용합니다. 자세한 내용은 [BACKUP&#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql)을 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
#### <a name="define-maintenance-cleanup-tasks"></a>유지 관리 정리 태스크 정의  
  
1.  **유지 관리 정리 태스크 정의** 페이지에서 유지 관리 계획에서 만든 텍스트 보고서와 데이터베이스 백업 파일을 포함하여 유지 관리 계획의 일부로 삭제할 파일의 유형을 지정합니다. 이 태스크에서는 `EXEC xp_delete_file` 문을 사용합니다. 완료되면 **다음**을 클릭합니다.  
  
    > [!IMPORTANT]  
    >  이 태스크에서는 지정된 디렉터리의 하위 폴더에 있는 파일을 자동으로 삭제하지 않습니다. 이 예방 조치로 인해 유지 관리 정리 태스크를 사용하여 파일을 삭제하는 악의적 공격의 가능성이 낮아집니다. 첫 번째 수준의 하위 폴더를 삭제하려는 경우 **첫 번째 수준의 하위 폴더 포함**을 선택해야 합니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **다음 유형의 파일 삭제**  
     삭제할 파일의 유형을 지정합니다.  
  
     **백업 파일**  
     데이터베이스 백업 파일을 삭제합니다.  
  
     **유지 관리 계획 텍스트 보고서**  
     이전에 실행한 유지 관리 계획의 텍스트 보고서를 삭제합니다.  
  
     **파일 위치**  
     삭제할 파일을 경로를 지정합니다.  
  
     **특정 파일 삭제**  
     **파일 이름** 입력란에 표시되는 특정 파일을 삭제합니다.  
  
     **확장명에 따라 폴더 검색 및 파일 삭제**  
     지정한 확장명을 가진 파일을 지정한 폴더에서 모두 삭제합니다. 이 옵션을 사용하여 여러 파일(예: Tuesday 폴더에서 확장명이 .bak인 모든 백업 파일)을 한 번에 삭제할 수 있습니다.  
  
     **폴더** 상자  
     삭제할 파일이 있는 폴더의 경로와 이름입니다.  
  
     **파일 확장명** 상자  
     삭제할 파일의 파일 확장명을 제공합니다. Tuesday 폴더에서 확장명이 .bak인 모든 백업 파일과 같은 여러 파일을 삭제하려면 .bak를 지정합니다.  
  
     **첫 번째 수준의 하위 폴더 포함** 확인란  
     **폴더** 에 지정된 폴더 아래의 첫 번째 하위 폴더에서 **파일 확장명**에 지정된 확장명을 갖는 파일을 삭제합니다.  
  
     **태스크 런타임에 파일의 보존 기간에 따라 파일 삭제** 확인란  
     **다음보다 오래된 파일 삭제** 상자에 숫자와 시간 단위를 제공하여 삭제할 파일의 최소 보존 기간을 지정합니다.  
  
     **다음보다 오래된 파일 삭제**  
     숫자와 시간 단위(**시**, **일**, **주**, **월**또는 **년**)를 제공하여 삭제할 파일의 최소 보존 기간을 지정합니다. 지정한 시간대 이전의 파일은 삭제됩니다.  
  
#### <a name="select-report-options"></a>보고서 옵션 선택  
  
1.  **보고서 옵션 선택** 페이지에서 유지 관리 계획 동작의 보고서를 저장하거나 배포하기 위한 옵션을 선택합니다. 이 태스크에서는 `EXEC sp_notify_operator` 문을 사용합니다. 자세한 내용은 [sp_notify_operator&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-notify-operator-transact-sql)을 참조하세요. 완료되면 **다음**을 클릭합니다.  
  
     이 페이지에서는 다음과 같은 옵션을 선택할 수 있습니다.  
  
     **텍스트 파일에 보고서 쓰기** 확인란  
     보고서를 파일에 저장합니다.  
  
     **폴더 위치** 상자  
     보고서를 포함할 파일 위치를 지정합니다.  
  
     **전자 메일 보고서** 확인란  
     태스크가 실패하면 전자 메일을 보냅니다. 이 태스크를 사용하려면 MSDB를 메일 호스트 데이터베이스로 사용하여 데이터베이스 메일을 사용하도록 설정하고 올바르게 구성해야 합니다. 또한 [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에이전트 운영자에게 유효한 전자 메일 주소가 있어야 합니다.  
  
     **에이전트 운영자**  
     전자 메일의 받는 사람을 지정합니다.  
  
     **메일 프로필**  
     전자 메일의 보내는 사람을 정의하는 프로필을 지정합니다.  
  
#### <a name="complete-the-wizard"></a>마법사 완료  
  
1.  **마법사 완료** 페이지에서 이전 페이지에서 선택한 내용을 확인하고 **마침**을 클릭합니다.  
  
2.  **유지 관리 계획 마법사 진행률** 페이지에서 유지 관리 계획 마법사의 동작에 대한 상태 정보를 모니터링합니다. 마법사에서 선택한 옵션에 따라 진행률 페이지에 하나 이상의 동작이 포함될 수 있습니다. 맨 위에 있는 상자에는 전반적인 마법사 상태와 수신된 상태, 오류 및 경고 메시지의 수가 표시됩니다.  
  
     다음은 **유지 관리 계획 마법사 진행률** 페이지에서 선택할 수 있는 옵션입니다.  
  
     **세부 정보**  
     동작, 상태 및 마법사가 수행한 동작의 결과로 반환된 모든 메시지를 제공합니다.  
  
     **동작**  
     각 동작의 이름과 유형을 지정합니다.  
  
     **상태**  
     마법사 동작 결과 전체적으로 **성공** 값을 반환했는지 또는 **실패**값을 반환했는지 여부를 나타냅니다.  
  
     **메시지**  
     프로세스에서 반환된 모든 오류 또는 경고 메시지를 제공합니다.  
  
     **Report**  
     파티션 작성 마법사의 결과가 포함된 보고서를 만듭니다. **보고서 보기**, **보고서를 파일로 저장**, **클립보드에 보고서 복사**및 **보고서를 전자 메일로 보내기**중에서 선택할 수 있습니다.  
  
     **보고서 보기**  
     파티션 작성 마법사의 진행률에 대한 텍스트 보고서가 포함된 **보고서 보기** 대화 상자를 엽니다.  
  
     **보고서를 파일로 저장**  
     **보고서를 다른 이름으로 저장** 대화 상자를 엽니다.  
  
     **클립보드에 보고서 복사**  
     마법사의 진행률 보고서 결과를 클립보드에 복사합니다.  
  
     **보고서를 전자 메일로 보내기**  
     마법사의 진행률 보고서 결과를 이메일 메시지에 복사합니다.  
  
  
