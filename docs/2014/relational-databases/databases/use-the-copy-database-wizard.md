---
title: 데이터베이스 복사 마법사 사용 | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql12.swb.cdw.transfermethod.f1
- sql12.swb.cdw.welcome.f1
- sql12.swb.cdw.packageconfiguration.f1
- sql12.swb.cdw.schedule.f1
- sql12.swb.cdw.destination.f1
- sql12.swb.cdw.complete.f1
- sql12.swb.cdw.destinationconfiguration.f1
- sql12.swb.cdw.selectdatabaseobjects.f1
- sql12.swb.cdw.databases.f1
- sql12.swb.cdw.source.f1
- sql12.swb.cdw.locationofsourcedbfiles.f1
helpviewer_keywords:
- Copy Database Wizard
- starting Copy Database Wizard
ms.assetid: 7a999fc7-0a26-4a0d-9eeb-db6fc794f3cb
author: stevestein
ms.author: sstein
manager: craigg
ms.openlocfilehash: e72b960db0fd5b733119cafeca98f124eaa15f38
ms.sourcegitcommit: ceb7e1b9e29e02bb0c6ca400a36e0fa9cf010fca
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/03/2018
ms.locfileid: "52759115"
---
# <a name="use-the-copy-database-wizard"></a>데이터베이스 복사 마법사 사용
  데이터베이스 복사 마법사를 사용하면 서버를 중단하는 일 없이 데이터베이스 및 그 개체를 쉽게 다른 서버로 이동하거나 복사할 수 있습니다. 데이터베이스를 이전 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 버전에서 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]로 업그레이드할 수도 있습니다. 이 마법사를 사용하여 다음을 수행할 수 있습니다.  
  
-   원본 서버 및 대상 서버 선택  
  
-   이동하거나 복사하거나 업그레이드할 데이터베이스 선택  
  
-   데이터베이스의 파일 위치 지정  
  
-   대상 서버에서 로그인 만들기  
  
-   지원 개체, 작업, 사용자 정의 저장 프로시저 및 오류 메시지를 추가로 복사  
  
-   데이터베이스 이동 또는 복사 일정 예약  
  
 데이터베이스뿐만 아니라 관련 메타데이터(예: 복사된 데이터베이스에 필요한 **master** 데이터베이스의 로그인 및 개체)도 복사할 수 있습니다.  
  
 **항목 내용**  
  
-   **시작하기 전 주의 사항:**  
  
     [제한 사항](#Restrictions)  
  
     [필수 구성 요소](#Prerequisites)  
  
     [권장 사항](#Recommendations)  
  
     [보안](#Security)  
  
-   **데이터베이스 복사 마법사를 사용 하 여:**  
  
     [복사, 이동 또는 데이터베이스 업그레이드](#Copy_Move)  
  
-   **업그레이드 후를 수행 합니다.**  
  
     [SQL Server 데이터베이스를 업그레이드한 후](#FollowUp)  
  
##  <a name="BeforeYouBegin"></a> 시작하기 전에  
  
###  <a name="Restrictions"></a> 제한 사항  
  
-   Express Edition에서는 데이터베이스 복사 마법사를 사용할 수 없습니다.  
  
-   다음 데이터베이스는 데이터베이스 복사 마법사를 사용하여 이동하거나 복사할 수 없습니다.  
  
    -   시스템 데이터베이스  
  
    -   복제용으로 표시된 데이터베이스  
  
    -   액세스 불가, 로드 중, 오프라인, 복구 중으로 표시되거나 응급 모드인 데이터베이스  
  
-   데이터베이스를 업그레이드한 후에는 이전 버전으로 다운그레이드할 수 없습니다.  
  
-   **이동** 옵션을 선택하면 마법사가 데이터베이스를 이동한 후 자동으로 원본 데이터베이스를 삭제합니다. **복사** 옵션을 선택하면 데이터베이스 복사 마법사에서 원본 데이터베이스를 삭제하지 않습니다.  
  
-   SMO( [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Management Objects) 방법을 사용하여 전체 텍스트 카탈로그를 이동하는 경우 이동 후에 인덱스를 다시 채워야 합니다.  
  
-   분리/연결 방법은 데이터베이스를 분리하고 데이터베이스 파일(.mdf, .ndf, .ldf)을 이동하거나 복사한 다음 새 위치에서 데이터베이스를 다시 연결합니다. 분리/연결 방법의 경우 데이터 손실이나 불일치가 발생하지 않도록 하려면 활성 세션을 이동 또는 복사 중인 데이터베이스에 연결하면 안 됩니다. 활성 세션이 있는 경우 데이터베이스 복사 마법사가 이동 또는 복사 작업을 실행하지 않습니다. SMO( [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Management Objects) 방법에서는 데이터베이스가 결코 오프라인 상태가 되지 않으므로 활성 세션이 허용됩니다.  
  
###  <a name="Prerequisites"></a> 사전 요구 사항  
 대상 서버에서 SQL Server 에이전트가 시작되었는지 확인합니다.  
  
###  <a name="Recommendations"></a> 권장 사항  
  
-   업그레이드한 데이터베이스가 최적의 성능을 낼 수 있도록 업그레이드한 데이터베이스에 대해 sp_updatestats(통계 업데이트)를 실행하십시오.  
  
-   데이터베이스를 다른 서버 인스턴스로 복사하는 경우 사용자와 애플리케이션에 일관된 환경을 제공하려면 로그인, 작업 등 데이터베이스의 일부 또는 모든 메타데이터를 다른 서버 인스턴스에서 다시 만들어야 할 수도 있습니다. 자세한 내용은 [다른 서버 인스턴스에서 데이터베이스를 사용할 수 있도록 할 때 메타데이터 관리&#40;SQL Server&#41;](manage-metadata-when-making-a-database-available-on-another-server.md)을 참조하세요.  
  
###  <a name="Security"></a> 보안  
  
####  <a name="Permissions"></a> Permissions  
 원본 서버와 대상 서버 모두에서 **sysadmin** 고정 서버 역할의 멤버여야 합니다.  
  
##  <a name="Copy_Move"></a> 복사, 이동 또는 데이터베이스 업그레이드  
  
1.  [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]개체 탐색기에서를 확장 하 고 **데이터베이스**데이터베이스를 마우스 오른쪽 단추로 클릭, 가리킨 **작업**를 클릭 하 고 **데이터베이스 복사**합니다.  
  
2.  **원본 서버 선택** 페이지에서 이동 또는 복사하려는 데이터베이스가 있는 서버를 지정하고 로그인 정보를 입력할 수 있습니다. 인증 방법을 선택하고 로그인 정보를 입력한 후 **다음** 을 클릭하여 원본 서버에 연결합니다. 이 연결은 해당 세션 동안 열린 상태로 유지됩니다.  
  
     **원본 서버**  
     이동 또는 복사 하려는 데이터베이스에 있는 서버의 이름을 선택 하거나 찾아보기 (**...** )를 원하는 서버를 찾습니다. 서버는 최소한 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]이어야 합니다.  
  
     **Windows 인증 사용**  
     사용자가 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows 사용자 계정을 통해 연결하도록 합니다.  
  
     **SQL Server 인증 사용**  
     사용자가 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인증 사용자 이름 및 암호를 제공하여 연결하도록 합니다.  
  
     **사용자 이름**  
     연결에 사용할 사용자 이름을 입력합니다. 이 옵션은 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인증을 사용하여 연결하도록 선택한 경우에만 사용할 수 있습니다.  
  
     **암호**  
     로그인 암호를 입력합니다. 이 옵션은 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인증을 사용하여 연결하도록 선택한 경우에만 사용할 수 있습니다.  
  
     **다음**  
     서버에 연결하고 사용자의 유효성을 검사합니다. 이 프로세스는 사용자가 선택한 컴퓨터에서 **sysadmin** 고정 서버 역할의 멤버인지 여부를 확인합니다.  
  
3.  **대상 서버 선택** 페이지에서 데이터베이스를 이동 또는 복사할 서버를 지정할 수 있습니다. 원본 서버와 대상 서버를 동일한 서버 인스턴스로 설정하면 데이터베이스 복사본이 생성됩니다. 이 경우 이 마법사에서 나중에 데이터베이스의 이름을 바꿔야 합니다. 원본 데이터베이스 이름은 대상 서버에 있는 이름과 충돌하지 않는 경우에만 복사되거나 이동된 데이터베이스에 사용할 수 있습니다. 이름 충돌이 있을 때는 먼저 대상 서버에서 수동으로 이 문제를 해결해야 원본 데이터베이스 이름을 대상 서버에서 사용할 수 있습니다.  
  
     **대상 서버**  
     데이터베이스를 이동 또는 복사 또는 서버 찾아보기의 이름을 선택 (**...** )를 대상 서버를 찾습니다.  
  
    > [!NOTE]  
    >  클러스터형 서버인 대상을 사용할 수 있습니다. 그러나 데이터베이스 복사 마법사를 사용하면 클러스터형 대상 서버에서 공유 드라이브만 선택할 수 있습니다.  
  
     **Windows 인증 사용**  
     사용자가 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows 사용자 계정을 통해 연결하도록 합니다.  
  
     **SQL Server 인증 사용**  
     사용자가 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인증 사용자 이름 및 암호를 제공하여 연결하도록 합니다.  
  
     **사용자 이름**  
     연결에 사용할 사용자 이름을 입력합니다. 이 옵션은 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인증을 선택한 경우에만 사용할 수 있습니다.  
  
     **암호**  
     로그인 암호를 입력합니다. 이 옵션은 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인증을 선택한 경우에만 사용할 수 있습니다.  
  
     **다음**  
     서버에 연결하고 사용자의 유효성을 검사합니다. 이 프로세스는 사용자가 선택한 컴퓨터에서 위의 사용 권한을 가지고 있는지 여부를 확인합니다.  
  
4.  **전송 방법 선택** 페이지에서 전송 방법을 선택합니다.  
  
     **분리/연결 방법을 사용합니다.**  
     데이터베이스를 원본 서버에서 분리하고 데이터베이스 파일(.mdf, .ndf 및 .ldf)을 대상 서버로 복사하고 데이터베이스를 대상 서버에 연결합니다. 이 방법은 원본 디스크를 읽고 대상 디스크에 쓰는 작업이 주된 작업이므로 속도가 빠릅니다. 데이터베이스에서 개체를 만들거나 데이터베이스 저장소 구조를 만드는 데는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 논리를 필요로 하지 않습니다. 그러나 데이터베이스에 할당되었지만 사용되지 않는 공간이 많으면 속도가 저하될 수 있습니다. 예를 들어 100MB를 할당하여 만든 새 데이터베이스의 경우 5MB만 사용 중이고 나머지 공간은 비어 있어도 100MB 전체가 복사됩니다.  
  
    > [!NOTE]  
    >  이 방법을 사용하면 전송 중에 사용자가 데이터베이스를 사용할 수 없습니다.  
  
     **오류 발생 시 원본 데이터베이스 다시 연결**  
     데이터베이스를 복사하면 원본 데이터베이스 파일이 원본 서버에 항상 다시 연결됩니다. 데이터베이스 이동을 완료할 수 없는 경우 이 상자를 사용하여 원본 파일을 원본 데이터베이스에 다시 연결할 수 있습니다.  
  
     **SQL 관리 개체 방법을 사용합니다.**  
     이 방법은 원본 데이터베이스에 있는 데이터베이스 개체의 정의를 읽어 대상 데이터베이스에 각 개체를 만든 다음, 원본 테이블에서 대상 테이블로 데이터를 전송하여 인덱스와 메타데이터를 다시 만듭니다.  
  
    > [!NOTE]  
    >  이 방법을 사용하면 데이터를 전송하는 동안에도 데이터베이스 사용자가 데이터베이스에 액세스할 수 있습니다.  
  
5.  **데이터베이스 선택** 페이지에서, 원본 서버에서 대상 서버로 이동 또는 복사할 데이터베이스를 선택할 수 있습니다. 이 항목의 '시작하기 전 주의 사항' 섹션에 있는 [제한 사항](#Restrictions) 을 참조하세요.  
  
     **이동**  
     데이터베이스를 대상 서버로 이동합니다.  
  
     **복사**  
     데이터베이스를 대상 서버에 복사합니다.  
  
     **원본**  
     원본 서버에 존재하는 데이터베이스를 표시합니다.  
  
     **상태**  
     표시 **확인** 하면 데이터베이스를 이동할 수 있습니다. 그렇지 않은 경우 데이터베이스를 이동하지 못하는 이유를 표시합니다.  
  
     **새로 고침**  
     데이터베이스 목록을 새로 고칩니다.  
  
     **다음**  
     확인 프로세스를 시작한 후, 다음 화면으로 이동합니다.  
  
6.  **대상 데이터베이스 구성** 페이지에서 데이터베이스 이름을 변경하고(해당하는 경우) 데이터베이스 파일의 위치와 이름을 지정합니다. 이 페이지는 이동하거나 복사하는 각 데이터베이스에 대해 한 번씩 표시됩니다.  
  
7.  **데이터베이스 개체 선택** 페이지에서 이동 또는 복사 작업에 포함할 개체를 선택할 수 있습니다. 이 페이지는 원본 서버와 대상 서버가 다를 때만 사용할 수 있습니다. 개체를 포함하려면 **사용 가능한 관련 개체** 상자에서 개체 이름을 클릭한 다음 **>>** 단추를 클릭하여 **선택한 관련 개체** 상자로 개체를 이동합니다. 개체를 제외하려면 **선택한 관련 개체** 상자에서 개체 이름을 클릭한 다음 **<\<** 단추를 클릭하여 **사용 가능한 관련 개체** 상자로 개체를 이동합니다. 기본적으로 선택한 각 유형의 모든 개체가 전송됩니다. 특정 유형의 개별 개체를 선택하려면 **선택한 관련 개체** 상자에서 해당 개체 유형 옆의 줄임표 단추를 클릭합니다. 그러면 개별 개체를 선택할 수 있는 대화 상자가 열립니다.  
  
     **로그인 (런타임 시 모든 로그인)**  
     이동 또는 복사 작업에 로그인을 포함합니다. 기본적으로 선택되어 있습니다.  
  
     **master 데이터베이스의 저장 프로시저**  
     저장된 프로시저를 포함 합니다 **마스터** 데이터베이스를 이동 또는 복사 작업입니다.  
  
    > [!NOTE]  
    >  확장 저장 프로시저 및 이와 관련된 DLL은 자동으로 복사할 수 없습니다.  
  
     **SQL Server 에이전트 작업**  
     작업을 포함 합니다 **msdb** 데이터베이스를 이동 또는 복사 작업입니다.  
  
     **사용자 정의 오류 메시지**  
     이동 또는 복사 작업에 사용자 정의 오류 메시지를 포함합니다.  
  
     **엔드포인트**  
     원본 데이터베이스에 정의된 엔드포인트를 포함합니다.  
  
     **전체 텍스트 카탈로그**  
     원본 데이터베이스의 전체 텍스트 카탈로그를 포함합니다.  
  
     **SSIS 패키지**  
     원본 데이터베이스에 정의된 [!INCLUDE[ssIS](../../includes/ssis-md.md)] 패키지를 포함합니다.  
  
     **설명**  
     개체에 대한 설명입니다.  
  
8.  **원본 데이터베이스 파일 위치** 페이지에서 원본 서버의 데이터베이스 파일에 들어 있는 파일 시스템 공유를 지정합니다. 이는 원본 및 대상 서버 인스턴스가 서로 다른 컴퓨터에 있는 경우 필요합니다.  
  
     **데이터베이스 백업**  
     이동 중인 각 데이터베이스의 이름을 표시합니다.  
  
     **폴더 위치**  
     파일 시스템에 있는 원본 데이터베이스 파일의 위치를 지정합니다.  
  
     이는 아래와 같이 함수의 반환값을 데이터 프레임으로 바로 변환하는 데 사용할 수 있음을 나타냅니다. C:\Program Files\Microsoft SQL Server\MSSQL110.MSSQLSERVER\MSSQL\DATA  
  
     **원본 서버의 파일 공유**  
     원본 데이터베이스 파일의 위치를 파일 공유 경로로 지정합니다.  
  
     예를 들어: "\\\\*server_name*\C$\Program Files\Microsoft SQL Server\MSSQL110 합니다. MSSQLSERVER\MSSQL\Data  
  
9. 데이터베이스 복사 마법사는 [!INCLUDE[ssIS](../../includes/ssis-md.md)] 패키지 구성 **페이지에서 데이터베이스를 전송할** 패키지를 만들고 패키지를 사용자 지정합니다(해당하는 경우).  
  
     **패키지 위치**  
     [!INCLUDE[ssIS](../../includes/ssis-md.md)] 패키지를 쓸 위치를 표시합니다.  
  
     **패키지 이름**  
     [!INCLUDE[ssIS](../../includes/ssis-md.md)] 패키지의 이름을 입력합니다.  
  
     **로깅 옵션**  
     로깅 정보를 Windows 이벤트 로그에 저장할지 또는 텍스트 파일에 저장할지 여부를 선택합니다.  
  
     **오류 로그 파일 경로**  
     로그 파일의 위치에 대한 경로를 제공합니다. 이 옵션은 텍스트 파일 로깅 옵션을 선택한 경우에만 사용할 수 있습니다.  
  
10. **패키지 예약** 페이지에서 이동 또는 복사 작업을 시작할 시기를 지정합니다. 시스템 관리자가 아닌 경우 SSIS( [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ) 패키지 실행 하위 시스템에 대한 액세스 권한이 있는 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 에이전트 프록시 계정을 지정해야 합니다.  
  
     **Run immediately**  
     클릭 한 후 이동 또는 복사 작업을 시작할 **다음**합니다.  
  
     **일정**  
     나중에 이동 또는 복사 작업을 시작합니다. 현재 설정된 일정은 설명란에 표시됩니다. 일정을 변경하려면 **변경**을 클릭합니다.  
  
     **변경**  
     엽니다는 **새 작업 일정** 대화 상자.  
  
     **Integration Services 프록시 계정**  
     사용 가능한 프록시 계정을 선택합니다. 전송을 예약하려면 **SQL Server Integration Services 패키지 실행** 하위 시스템에 대한 사용 권한으로 구성되어 사용자가 사용할 수 있는 프록시 계정이 하나 이상 있어야 합니다.  
  
     에 대 한 프록시 계정을 만들려면 [!INCLUDE[ssIS](../../includes/ssis-md.md)] 실행 개체 탐색기에서 패키지를 확장 하 고 **SQL Server 에이전트**를 확장 하 고 **프록시**를 마우스 오른쪽 단추로 클릭 **SSIS 패키지 실행**를 클릭 하 고 **새 프록시**합니다.  
  
     **sysadmin** 고정 서버 역할의 멤버는 필요한 권한이 있는 **SQL Server 에이전트 서비스 계정**을 선택할 수 있습니다.  
  
11. **마법사 완료** 페이지에서 선택한 옵션의 요약 내용을 검토합니다. 옵션을 변경하려면 **뒤로** 를 클릭합니다. **마침** 을 클릭하여 데이터베이스를 만듭니다. 전송하는 동안 **작업을 수행하는 중** 페이지에서 **데이터베이스 복사 마법사**실행과 관련한 상태 정보를 모니터링합니다.  
  
     **동작**  
     수행 중인 동작을 나열합니다.  
  
     **상태**  
     전반적으로 성공한 동작인지 아니면 실패한 동작인지 여부를 나타냅니다.  
  
     **메시지**  
     각 단계에서 반환된 메시지를 제공합니다.  
  
##  <a name="FollowUp"></a> 후속편: SQL Server 데이터베이스를 업그레이드한 후  
 데이터베이스 복사 마법사를 사용하여 이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에서 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]버전으로 데이터베이스를 업그레이드하면 데이터베이스를 바로 사용할 수 있으며 데이터베이스가 자동으로 업그레이드됩니다. 데이터베이스에 전체 텍스트 인덱스가 있는 경우 업그레이드 프로세스는 **전체 텍스트 업그레이드 옵션** 서버 속성의 설정에 따라 인덱스를 가져오거나, 다시 설정하거나, 다시 작성합니다. 업그레이드 옵션이 **가져오기** 또는 **다시 작성**으로 설정되어 있는 경우 업그레이드하는 동안 전체 텍스트 인덱스를 사용할 수 없습니다. 인덱싱되는 데이터 양에 따라 가져오기 작업은 몇 시간씩 걸릴 수 있으며 다시 작성 작업은 10배 정도 더 걸릴 수 있습니다. 업그레이드 옵션이 **가져오기**로 설정되어 있으면 전체 텍스트 카탈로그를 사용할 수 없는 경우 관련된 전체 텍스트 인덱스가 다시 작성됩니다. **전체 텍스트 업그레이드 옵션** 속성 설정을 보거나 변경하는 방법은 [서버 인스턴스의 전체 텍스트 검색 관리 및 모니터링](../search/manage-and-monitor-full-text-search-for-a-server-instance.md)을 참조하세요.  
  
 사용자 데이터베이스의 호환성 수준이 업그레이드 이전에 100 이상이었다면 업그레이드 후에도 동일하게 유지됩니다. 업그레이드한 데이터베이스의 호환성 수준이 이전에 90이었다면 업그레이드 후에는 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]에서 지원되는 가장 낮은 호환성 수준인 100으로 설정됩니다. 자세한 내용은 [ALTER DATABASE 호환성 수준&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level)을 참조하세요.  
  
## <a name="see-also"></a>관련 항목  
 [분리 및 연결을 사용하여 데이터베이스 업그레이드&#40;Transact-SQL&#41;](upgrade-a-database-using-detach-and-attach-transact-sql.md)   
 [SQL Server 에이전트 프록시 만들기](../../ssms/agent/create-a-sql-server-agent-proxy.md)  
  
  
